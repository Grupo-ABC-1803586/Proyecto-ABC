Index: App/Controller/CategoriaController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Controller;\r\nrequire(__DIR__ . '/../models/Categoria.php');\r\nuse App\\models\\Categoria;\r\n\r\nif(!empty($_GET['action'])){\r\n    CategoriaController::main($_GET['action']);\r\n}\r\n\r\nclass CategoriaController\r\n{\r\n\r\n    static function main($action)\r\n    {\r\n        if ($action == \"create\") {\r\n            CategoriaController::create();\r\n        } else if ($action == \"edit\") {\r\n            CategoriaController::edit();\r\n        } else if ($action == \"searchForId\") {\r\n            CategoriaController::searchForId($_REQUEST['IdCategoria']);\r\n        } else if ($action == \"searchAll\") {\r\n            CategoriaController::getAll();\r\n        } else if ($action == \"activate\") {\r\n            CategoriaController::activate();\r\n        } else if ($action == \"inactivate\") {\r\n            CategoriaController::inactivate();\r\n        }}\r\n\r\n    static public function create()\r\n    {\r\n        try {\r\n\r\n            $arrayCategoria = array();\r\n            $arrayCategoria['Nombre'] = $_POST['Nombre'];\r\n\r\n            var_dump($_POST);\r\n            if(!Categoria::CategoriaRegistrado($arrayCategoria['Nombre'])){\r\n                $Categoria = new Categoria ($arrayCategoria);\r\n                if($Categoria->create()){\r\n                    header(\"Location: ../../Views/modules/Categoria/index.php?respuesta=correcto\");\r\n                }\r\n            }else{\r\n                header(\"Location: ../../Views/modules/Categoria/create.php?respuesta=error&mensaje=Categoria ya registrada\");\r\n            }\r\n        } catch (Exception $e) {\r\n            header(\"Location: ../../Views/modules/Categoria/create.php?respuesta=error&mensaje=\" . $e->getMessage());\r\n        }\r\n    }\r\n\r\n    static public function edit()\r\n    {\r\n        try {\r\n            $arrayCategoria = array();\r\n            $arrayCategoria['Nombre'] = $_POST['Nombre'];\r\n            $arrayCategoria['Id'] = $_POST['Id'];\r\n\r\n            $user = new Categoria($arrayCategoria);\r\n            $user->update();\r\n\r\n            header(\"Location: ../../Views/modules/Categoria/show.php?Id=\" . $user->getId() . \"&respuesta=correcto\");\r\n        } catch (\\Exception $e) {\r\n            //var_dump($e);\r\n            header(\"Location: ../../Views/modules/Categoria/edit.php?respuesta=error&mensaje=\" . $e->getMessage());        }\r\n    }\r\n\r\n    static public function activate()\r\n    {\r\n        try {\r\n            $ObjCategoria = Categoria::searchForId($_GET['Id']);\r\n            $ObjCategoria->setEstado(\"Activo\");\r\n            if ($ObjCategoria->update()) {\r\n                header(\"Location: ../../Views/modules/Categoria/index.php\");\r\n            } else {\r\n                header(\"Location: ../../Views/modules/Categoria/index.php?respuesta=error&mensaje=Error al guardar\");\r\n            }\r\n        } catch (\\Exception $e) {\r\n            //var_dump($e);\r\n            header(\"Location: ../../Views/modules/Categoria/index.php?respuesta=error&mensaje=\" . $e->getMessage());\r\n        }\r\n    }\r\n\r\n    static public function inactivate()\r\n    {\r\n        try {\r\n            $ObjCategoria = Categoria::searchForId($_GET['Id']);\r\n            $ObjCategoria->setEstado(\"Inactivo\");\r\n            if ($ObjCategoria->update()) {\r\n                header(\"Location: ../../Views/modules/Categoria/index.php\");\r\n            } else {\r\n                header(\"Location: ../../Views/modules/Categoria/index.php?respuesta=error&mensaje=Error al guardar\");\r\n            }\r\n        } catch (\\Exception $e) {\r\n            //var_dump($e);\r\n            header(\"Location: ../../Views/modules/Categoria/index.php?respuesta=error\");\r\n        }\r\n    }\r\n\r\n    static public function searchForId($Id)\r\n    {\r\n        try {\r\n            return Categoria::searchForId($Id);\r\n        } catch (\\Exception $e) {\r\n            var_dump($e);\r\n            //header(\"Location: ../../Views/modules/Categoria/manager.php?respuesta=error\");\r\n        }\r\n    }\r\n\r\n    static public function getAll()\r\n    {\r\n        try {\r\n            return Categoria::getAll();\r\n        } catch (\\Exception $e) {\r\n            var_dump($e);\r\n            //header(\"Location: ../Vista/modules/Persona/manager.php?respuesta=error\");\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- App/Controller/CategoriaController.php	(revision a857a62b350b2ac18d9debba5b64e94ce2dbc319)
+++ App/Controller/CategoriaController.php	(date 1596116280212)
@@ -18,7 +18,7 @@
         } else if ($action == "edit") {
             CategoriaController::edit();
         } else if ($action == "searchForId") {
-            CategoriaController::searchForId($_REQUEST['IdCategoria']);
+            CategoriaController::searchForId($_REQUEST['Id']);
         } else if ($action == "searchAll") {
             CategoriaController::getAll();
         } else if ($action == "activate") {
@@ -55,10 +55,10 @@
             $arrayCategoria['Nombre'] = $_POST['Nombre'];
             $arrayCategoria['Id'] = $_POST['Id'];
 
-            $user = new Categoria($arrayCategoria);
-            $user->update();
+            $Categoria = new Categoria($arrayCategoria);
+            $Categoria->update();
 
-            header("Location: ../../Views/modules/Categoria/show.php?Id=" . $user->getId() . "&respuesta=correcto");
+            header("Location: ../../Views/modules/Categoria/show.php?Id=".$Categoria->getId() . "&respuesta=correcto");
         } catch (\Exception $e) {
             //var_dump($e);
             header("Location: ../../Views/modules/Categoria/edit.php?respuesta=error&mensaje=" . $e->getMessage());        }
